<!DOCTYPE html>
<html>
<head>
  <title>Javascript Pro</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <style type="text/css">
   @import url('https://fonts.googleapis.com/css?family=Montserrat:300,400,600,800,900');
    @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);
    body { font-family: 'Montserrat'; }
    h1, h2, h3 {
      font-family: 'Montserrat';
      font-weight: 400;
    }
    .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    .remark-slide-content{background: transparent;}
    .remark-slide {
      background: #002244ff center center no-repeat;
      background-size: cover;
      color: #ffffff;
    }
    .remark-slide-number{color: #fff;font-size: 1rem;font-weight: bold;}

    .remark-slide-content h1 {
        font-size: 2.2rem;
    }

    .remark-slide-content h2 {
        font-size: 1.9rem;
    }
    .remark-slide-content h3 {
        font-size: 1.4rem;
    }
    a, a:link, a:visited, a:hover, a:active{
        color: #007FFF;
    }

  </style>
</head>
<body>
  <textarea id="source" style="display:none;">

    class: center, middle

    # Javascript Pro

    <br/><img src="https://raw.githubusercontent.com/cerebrobr/adesivos/master/view/javascript.png" title="Javascript Pro" alt="Javascript Pro logo" style="max-height: 200px;clear: both;float: none;" />
    


    ---
    class: center, middle
    # Javascript - Defini√ß√£o de alto n√≠vel
 
    ---
    # Javascript - Defini√ß√£o de alto n√≠vel

    JavaScript √© uma linguagem de programa√ß√£o que permite a voc√™ implementar itens complexos em p√°ginas web ‚Äî toda vez que uma p√°gina da web faz mais do que simplesmente mostrar a voc√™ informa√ß√£o est√°tica ‚Äî mostrando conte√∫do que se atualiza em um intervalo de tempo, mapas interativos ou gr√°ficos 2D/3D animados, etc. ‚Äî voc√™ pode apostar que o JavaScript provavelmente est√° envolvido. 

    √â a terceira camada do bolo das tecnologias padr√µes da web.

    <br/><img src="https://mdn.mozillademos.org/files/13502/cake.png" title="Javascript Pro" alt="Javascript Pro logo" style="max-height: 200px;clear: both; float: none;margin: 0px auto;" />
    
    ---
    # Javascript   

    - HTML √© a linguagem de marca√ß√£o que n√≥s usamos para estruturar e dar significado para o nosso conte√∫do web, por exemplo, definindo par√°grafos, cabe√ßalhos, tabelas de conte√∫do, ou inserindo imagens e v√≠deos na p√°gina.
    - CSS √© uma linguagem de regras de estilo que n√≥s usamos para aplicar estilo ao nosso conte√∫do HTML, por exemplo, definindo cores de fundo e fontes, e posicionando nosso conte√∫do em m√∫ltiplas colunas.
    - JavaScript √© uma linguagem de programa√ß√£o que permite a voc√™ criar conte√∫do que se atualiza dinamicamente, controlar m√∫ltim√≠dias, imagens animadas, e tudo o mais que h√° de intessante. Ok, n√£o tudo, mas √© maravilhoso o que voc√™ pode efetuar com algumas linhas de c√≥digo JavaScript.

    ---
    # Javascript

    ## Ent√£o o que ele pode realmente fazer?

    O n√∫cleo da linguagem JavaScript consiste em alguns benef√≠cios comuns da programa√ß√£o que permite a voc√™ fazer coisas como:

    - Armazenar conte√∫do √∫til em vari√°veis.
    - Opera√ß√µes com peda√ßos de texto (conhecidos como "strings" em programa√ß√£o).
    - Executar o c√≥digo em resposta a determinados eventos que ocorrem em uma p√°gina da Web.
    - E muito mais!
    
    ---
    # Javascript   

    O que √© ainda mais empolgante √© a funcionalidade constru√≠da no topo do n√∫cleo da linguagem JavaScript. As APIs (Application Programming Interfaces - Interface de Programa√ß√£o de Aplicativos) prov√™em a voc√™ superpoderes extras para usar no seu c√≥digo JavaScript. Elas geralmente se dividem em duas categorias.

    <br/><img src="https://mdn.mozillademos.org/files/14721/browser.png " title="Javascript Pro" alt="Javascript Pro logo" style="max-height: 400px;clear: both; float: none;margin: 0px auto;" />
    
    ---
    # Javascript   

    - APIs de navegadores j√° vem implementadas no navegador, e s√£o capazes de expor dados do ambiente do computador, ou fazer coisas complexas e √∫teis. Por exemplo:
    - A API DOM (Document Object Model) permite a voc√™ manipular HTML e CSS, criando, removendo e mudando HTML, aplicando dinamicamente novos estilos para a sua p√°gina, etc. Toda vez que voc√™ v√™ uma janela popup aparecer em uma p√°gina, ou v√™ algum novo conte√∫do sendo exibido (como n√≥s vimos acima na nossa simples demonstra√ß√£o), isso √© o DOM em a√ß√£o.
    - A API de Geolocaliza√ß√£o recupera informa√ß√µes geogr√°ficas. √â assim que o Google Maps consegue entontrar sua localiza√ß√£o e colocar em um mapa.
    - As APIs Canvas e WebGL permite a voc√™ criar gr√°ficos 2D e 3D animados. H√° pessoas fazendo algumas coisas fant√°sticas usando essas tecnologias web ‚Äî veja Chrome Experiments e webglsamples.
    - APIs de √°udio e v√≠deo como HTMLMediaElement e WebRTC permitem a voc√™ fazer coisas realmente interessantes com multim√≠dia, tanto tocar m√∫sica e v√≠deo em uma p√°gina da web, como capturar v√≠deos com a sua c√¢mera e exibir no computador de outra pessoa (veja Snapshot demo para ter uma ideia).
  

    ---
    # Javascript
    
    O Javascript √© uma linguagem script din√¢mica, fracamente tipada, baseada em prot√≥tipos e que possui fun√ß√µes de primeira classe.


    Linguagem din√¢mica: Linguagem de alto n√≠vel que executa em tempo de execu√ß√£o v√°rias tarefas que outras linguagens executariam durante a compila√ß√£o.

     
    Fracamente tipada:  Suporta convers√£o de tipos impl√≠cita, e n√£o se declara o tipo na inicializa√ß√£o da vari√°vel.

    Baseada em prot√≥tipos: Estilo de orienta√ß√£o a objetos onde classes n√£o existem, dessa forma o reuso (heran√ßa para linguagens baseadas em classe) √© feito clonando objetos existentes que servem assim de prot√≥tipos.

    ---
    # Javascript  
    ## Introdu√ß√£o ao ECMAScript

    Sempre que voc√™ ler sobre JavaScript, voc√™ inevitavelmente ver√° um destes termos: ES3, ES5, ES6, ES7, ES8, ES2015, ES2016, ES2017, ECMAScript 2017, ECMAScript 2016, ECMAScript 2015‚Ä¶ o que eles querem dizer?

    Todos eles est√£o se referindo a um  **padr√£o**  , chamado ECMAScript.

    ECMAScript √©  **o padr√£o no qual o JavaScript √© baseado**  e √© freq√ºentemente abreviado para  **ES**  .

    Al√©m do JavaScript, outras linguagens implementam (ed) ECMAScript, incluindo:

    -   _ActionScript_  (a linguagem de script do Flash), que est√° perdendo popularidade desde que o Flash ser√° oficialmente descontinuado em 2020
    -   _JScript_  (o dialeto de scripts da Microsoft), uma vez que no momento em que o JavaScript era suportado apenas pelo Netscape e as guerras de navegador estavam no auge, a Microsoft teve que construir sua pr√≥pria vers√£o para o Internet Explorer.

    mas √© claro que o JavaScript √© a implementa√ß√£o  **mais popular**  e amplamente utilizada do ES.

    ---
    # Javascript  
    ## Introdu√ß√£o ao ECMAScript

    Por que esse nome estranho?  `Ecma International`  √© uma associa√ß√£o de padr√µes su√≠√ßa encarregada de definir padr√µes internacionais.

    Quando o JavaScript foi criado, ele foi apresentado pela Netscape e pela Sun Microsystems √† Ecma e eles lhe deram o nome ECMA-262 alias  **ECMAScript**  .

    [Este comunicado de imprensa da Netscape e da Sun Microsystems](https://web.archive.org/web/20070916144913/http://wp.netscape.com/newsref/pr/newsrelease67.html&xid=17259,15700021,15700186,15700190,15700248,15700253&usg=ALkJrhj1ZlYlRxq8pFdR01LPE7icG1yAbQ)  (fabricante de Java) pode ajudar a descobrir a escolha do nome, que pode incluir quest√µes legais e de branding pela Microsoft, que estava no comit√™,  [segundo a Wikipedia](https://en.wikipedia.org/wiki/ECMAScript&xid=17259,15700021,15700186,15700190,15700248,15700253&usg=ALkJrhinuyDmR2vky_EAFn-sczznmfI_Zg)  .

    Depois do IE9, a Microsoft parou de marcar seu suporte ES em navegadores como JScript e come√ßou a cham√°-lo de JavaScript (pelo menos, n√£o consegui mais encontrar refer√™ncias a ele).

    Assim, a partir de 201x, a √∫nica linguagem popular que suporta a especifica√ß√£o ECMAScript √© o JavaScript.


    ---
    # Javascript
    ## Vers√£o atual do ECMAScript

    A vers√£o atual do ECMAScript √©  **ES2018**  .

    Foi lan√ßado em junho de 2018.

    ---
    # Javascript
    ## O que √© TC39

    O TC39 √© o comit√™ que desenvolve o JavaScript.

    Os membros do TC39 s√£o empresas envolvidas em JavaScript e fornecedores de navegadores, incluindo Mozilla, Google, Facebook, Apple, Microsoft, Intel, PayPal, SalesForce e outros.

    Cada proposta de vers√£o padr√£o deve passar por v√°rios est√°gios,  [que s√£o explicados aqui](https://tc39.github.io/process-document/&xid=17259,15700021,15700186,15700190,15700248,15700253&usg=ALkJrhgssHt0ASq62m6d9QxLDt1bF2rzKg)  .


    ---
    # Javascript
    ## Vers√µes ES

    Eu achei intrigante porque √†s vezes uma vers√£o ES √© referenciada por n√∫mero de edi√ß√£o e √†s vezes por ano, e estou confuso com o ano por acaso sendo -1 no n√∫mero, o que aumenta a confus√£o geral em torno de JS / ES üòÑ

    Antes do ES2015, as especifica√ß√µes do ECMAScript eram comumente chamadas por sua edi√ß√£o.  Ent√£o ES5 √© o nome oficial da atualiza√ß√£o da especifica√ß√£o ECMAScript publicada em 2009.

    Por que isso acontece?  Durante o processo que levou ao ES2015, o nome foi alterado de ES6 para ES2015, mas como isso foi feito tarde, as pessoas ainda o referenciaram como ES6, e a comunidade n√£o deixou o nome da edi√ß√£o para tr√°s -  _o mundo ainda est√° chamando lan√ßamentos ES n√∫mero de edi√ß√£o_  .
    
    Esta tabela deve esclarecer um pouco as coisas:

    ---
    # Javascript
    ## Vers√µes ES

    ![](https://cdn-images-1.medium.com/max/1600/1*ta8eBjBIGeJucahugjlopg.png)

    ---
    name: erros
    class: middle, center
    # Tratamento de erros em Javascript

    O processo de encontrar erros(bugs) nos programas √© chamado de depura√ß√£o.
  
    ---
    # Tratamento de erros em Javascript
  
    JavaScript pode ser feito de uma forma mais rigorosa, permitindo que o modo seja estrito. Para obter esse modo basta inserir uma string ‚Äúuse strict‚Äù na parte superior de um arquivo ou no corpo de uma fun√ß√£o. Veja um exemplo:

    ```javascript

    function canYouSpotTheProblem() {
        "use strict";
        for (counter = 0; counter < 10; counter++)
            console.log("Happy happy");
    }
    ‚Äã
    canYouSpotTheProblem(); // ReferenceError: counter is not defined

    ```

    Normalmente, quando voc√™ esquece de colocar var na frente de sua vari√°vel como acontece no contador do exemplo, o JavaScript cria uma vari√°vel global para utiliza-la, no entando no modo estrito um erro √© relatado. Isto √© muito √∫til. Por√©m deve-se notar que isso n√£o funciona quando a vari√°vel em quest√£o j√° existe como uma vari√°vel global, isso √© apenas para atribui√ß√£o ou cria√ß√£o.
    
    ---
    # Tratamento de erros em Javascript    

    Por exemplo, considere o seguinte c√≥digo que chama um construtor sem a nova palavra-chave na qual seu objeto n√£o vai se referir a um objeto rec√©m-constru√≠do:
    
    ```javascript
    function Person(name) { this.name = name; }
    var ferdinand = Person("Ferdinand"); // oops
    console.log(name); // Ferdinand

    ```
    
    Assim, a falsa chamada para Person foi bem sucessida, mas retornou um valor indefinido e criou uma vari√°vel global. No modo estrito, o resultado √© diferente.
   
    ```javascript
    "use strict";
    function Person(name) { this.name = name; } // Oops, forgot 'new'
    var ferdinand = Person("Ferdinand");
    // TypeError: Cannot set property 'name' of undefined

    ```

    Somos imediatamente informados de que algo est√° errado. Isso √© √∫til.


    ---
    # Tratamento de erros em Javascript

    Com o objetivo de tratar exce√ß√µes e controlar erros, em tempo de execu√ß√£o, algumas linguagens implementam alguns mecanismos interessantes, como por exemplo Go, que voc√™ pode trabalhar com fun√ß√µes de retornos m√∫ltiplos para passar erro e dados em caso de sucesso; e Bash que se trata erros quando o exit do programa √© maior que zero 0, j√° que zero significa sucesso, sem falar no ‚Äúexception‚Äù de comandos encadeados com & &. 
  
    ---
    # Tratamento de erros em Javascript

    As exce√ß√µes s√£o utilizadas como uma forma de feedback, para c√≥gido saber o que fazer quando cair numa situa√ß√£o de erro. 

    Agora voc√™ precisa entender que os statements (declara√ß√µes, ou ‚Äúcomandos‚Äù) e os objetos citados aqui s√£o coisas separadas, apesar de funcionar em conjunto. Mais precisamente, vamos falar sobre 3 coisas:

    - Objetos do tipo Error

    - o throw

    - o bloco try...catch
  
    ---
    # Tratamento de erros em Javascript

    ## Objetos do tipo  _Error_

    Sabe quando o console te mostra algum erro de sintaxe, ou um erro de refer√™ncia, falando que uma vari√°vel ou fun√ß√£o n√£o existe? Aquelas mensagens esquisitas s√£o dos objetos de  `Error`. Basicamente, esses objetos tem seu prototype composto pelos seguintes itens:

    -   `.constructor`: que inicializa os objetos, √© chamado quando se instancia com o  `new`, ou apenas chamando como fun√ß√£o  `Error()`;
        
    -   `.message`: a mensagem de erro, que √© passada como primeiro argumento do construtor;
        
    -   `.name`: o tipo do erro. Ex.: ‚Äú_Error_‚Äù, ‚Äú_ReferenceError_‚Äù;
        
    -   `.toString()`: herdado do  `Object.prototype.toString()`  e retorna o valor de  `.message`.
  
    ---
    # Tratamento de erros em Javascript

    A propriedade  `.name`  especifica o tipo do Erro. Vamos dar uma olhada nos erros  **nativos**  e quando aparecem:

    -   **_EvalError_**: lan√ßado quando a fun√ß√£o  `eval()`  lan√ßa algum erro;
        
    -   **_RangeError_**: lan√ßado quando encontra algum valor n√£o est√° dentro do intervalo permitido;
        
    -   **_ReferenceError_**: lan√ßado quando uma refer√™ncia inv√°lida √© detectada;
        
    -   **_SyntaxError_**: lan√ßado quando existe algum erro no  _parse_, no momento que a  _engine_  l√™ o c√≥digo para interpret√°-lo;
        
    -   **_TypeError_**: lan√ßado quando um par√¢metro de uma fun√ß√£o n√£o √© do tipo desejado;
        
    -   **_URIError_**: lan√ßado quando alguma opera√ß√£o de URI,  `encodeURI()`  ou  `decodeURI()`, recebem par√¢metros inv√°lidos.
  
    ---
    # Tratamento de erros em Javascript

    Bom, este s√£o os erros nativos. J√° que s√£o extens√µes do objeto  `Error`, n√≥s tamb√©m podemos criar nossos erros, para poder trat√°-los da melhor forma poss√≠vel. Exemplo:

    ```javscript
    // Erro para regras de neg√≥cio
    class BusinessError extends Error {
      constructor(msg) {
        super(msg);
      }

      // e podemos adicionar algum m√©todo espec√≠fico
    }

    ```
  
    ---
    # Tratamento de erros em Javascript
    ## O ‚Äúlan√ßamento‚Äù:  _throw_

    Reparou que falei dos erros serem lan√ßados? √â exatamente isso que acontece.

    Durante a execu√ß√£o do programa, se houver algum tipo de inconsist√™ncia, dos tipos nativos de erro, ou se houver alguma situa√ß√£o que devemos avisar sobre erros, utiliza-se o  `throw`  para lan√ßar ‚Äúcoisas‚Äù para que ‚Äúalgu√©m‚Äù fa√ßa algo com essa coisa.
  
    ---
    # Tratamento de erros em Javascript

    Eu disse lan√ßar ‚Äúcoisas‚Äù porque voc√™ pode lan√ßar qualquer coisa, dentre elas, objetos de erro. Por exemplo:

    ```javascript
    // lan√ßar um erro de neg√≥cio, com nossa classe `BusinessError`
    throw new BusinessError('CPF inv√°lido');

    // lan√ßar uma string de erro
    throw "Erro: foo";

    // lan√ßar o status de erro HTTP
    throw 404;

    // lan√ßar objetos literais
    throw {
      message: "Erro: bar",
      toString: function() {
        return this.message;
      }
    };

    // lan√ßar fun√ß√µes
    throw function() { /* ¬Ø\_(„ÉÑ)_/¬Ø */ }

    ```
  
    ---
    # Tratamento de erros em Javascript
    
    ## O bloco  _try..catch_

    Enquanto se  _tenta_  executar determinado trecho de c√≥digo, pode ser que tenhamos erros que quebram o fluxo e todo o programa, n√£o √© mesmo? Para resolver esse problema, podemos tratar alguns erros no caso de  **_falha_**  durante a  **_tentativa_**. Por isso, utilizamos o  `try..catch`.

    A responsabilidade desta estrutura √©  **tentar executar algo**  e, caso d√™ algum problema durante a execu√ß√£o,  **pegar os erros**  e trat√°-los da forma mais adequada poss√≠vel.

    Ent√£o:

    > O  `catch`  √© quem pega as coisas lan√ßadas pelo  `throw`  dentro do bloco  `try`

    ---
    # Tratamento de erros em Javascript
    
    Para entender melhor:

    ```javascript

    // "Tentamos" executar algo
    try {

      /* ... */

      // Caso haja algum erro que precise de tratamento (ex.: de neg√≥cio)
      if ( !usuario.permissao ) {

        // "Lan√ßamos" um objeto de erro para o `catch`
        throw new BusinessError("Acesso n√£o autorizado");

      }

      /* ... */

    // O `catch` "pega" qualquer coisa lan√ßada no `try`, atrav√©s do `throw`
    } catch (err) {

      // e fazemos o que precisar com isso
      alert(err.message);

    }


    ```

    Lembre o seguinte: qualquer erro nativo tamb√©m √© lan√ßado e cair√° no  `catch`.
  
    ---
    # Tratamento de erros em Javascript

    ## _finally_

    O bloco  `try..catch`  tamb√©m permite a execu√ß√£o de coisas no fim da execu√ß√£o do bloco, tendo sucesso ou caindo no  `catch`. Para isso, utilizamos o bloco  `finally`. Exemplo:

    ```javascript
    try {
       /* ... */
        // "Lan√ßamos" um objeto de erro para o `catch`
        throw new BusinessError("Acesso n√£o autorizado");

    } catch (e) {
       // e fazemos o que precisar com isso
      alert(err.message);

    } finally {
      // Sempre executa ao finalizar o `try` ou o `catch`
      // √â um bom lugar pra executar coisas como:
      //  * fechar uma transa√ß√£o com o DB;
      //  * fechar arquivos que foram abertos para leitura;
      //  * atualizar o estado da view;

    }


    ```
  
    ---
    # Tratamento de erros em Javascript


    ## Lan√ßando Seus Pr√≥prios Erros

    Lan√ßar seus pr√≥prios erros √© uma excelente pr√°tica para voc√™ distinguir suas pr√≥prias exce√ß√µes da do browser e dar contexto ao desenvolvedor para que ele possa mais facilmente resolver o problema.
    
    ```javascript
    function MyError(message, solution, location) {  
        this.message = message + " Solution:" + solution +  " Location:" + location;
        this.solution = solution;
        this.location = location;
    }

    MyError.prototype = new Error();  
    MyError.prototype.name = "My Error"; 
    ``` 
    ---
    # Tratamento de erros em Javascript

    ### Observa√ß√£o

    Este mecanismo de tratamento de erros em tempo de execu√ß√£o (com  `try..catch..finally`  e  `throw`) tamb√©m √© adotado por outras linguagens. Podemos citar PHP e Java como exemplo e cada uma delas tem seus objetos de erro espec√≠ficos. JavaScript utiliza os objetos do tipo  `Error`, PHP e Java tem seus objetos de  `Exception`, que servem pra mesma coisa.

    ---
    # Tratamento de erros em Javascript
  
    ## Refer√™ncias

    -   Error Objects -  [http://www.ecma-international.org/ecma-262/7.0/index.html#sec-error-objects](http://www.ecma-international.org/ecma-262/7.0/index.html#sec-error-objects)
    -   ECMAScript Language: Statements and Declarations -  [http://www.ecma-international.org/ecma-262/7.0/index.html#sec-ecmascript-language-statements-and-declarations](http://www.ecma-international.org/ecma-262/7.0/index.html#sec-ecmascript-language-statements-and-declarations)
    -   Error -  [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)
    -   throw -  [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/throw)
    -   try‚Ä¶catch -  [https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try‚Ä¶catch](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch)
    -   try‚Ä¶catch‚Ä¶finally Statement (JavaScript) -  [https://docs.microsoft.com/en-us/scripting/javascript/reference/try-dot-dot-dot-catch-dot-dot-dot-finally-statement-javascript](https://docs.microsoft.com/en-us/scripting/javascript/reference/try-dot-dot-dot-catch-dot-dot-dot-finally-statement-javascript)
    -   throw Statement (JavaScript) -  [https://docs.microsoft.com/en-us/scripting/javascript/reference/throw-statement-javascript](https://docs.microsoft.com/en-us/scripting/javascript/reference/throw-statement-javascript)
    -   Error Object (JavaScript) -  [https://docs.microsoft.com/en-us/scripting/javascript/reference/error-object-javascript](https://docs.microsoft.com/en-us/scripting/javascript/reference/error-object-javascript)
    


    ---
    class: center, middle
    # Escopo e Hoisting



    ---
    # Escopo e Hoisting

    _Variable hoisting_  √© o procedimento do JavaScript que move declara√ß√µes para o topo de seus escopos atuais. Por n√£o ser expl√≠cito, desconhecer como isso funciona pode trazer boas dores de cabe√ßa.

    Qual voc√™ acha que ser√° a sa√≠da no Console do seguinte script?

    ```javascript
    var number = 10;
    function init(){
        console.log(number);
        var number = 5;
    }
    init();

    ```   

    Existe uma grande chance de que voc√™ achou que a sa√≠da seria  `10`. Por causa da forma como o JavaScript trata declara√ß√µes e escopos, a sa√≠da deste script √©  `undefined`  (!). Isso mesmo, pode conferir no Console do seu navegador. Para entender como e porque isso acontece, √© muito importante primeiro compreender o escopo no JavaScript.      
    
    ---
    
    # Escopo e Hoisting 

    ## Um pouco sobre escopo no JavaScript

    Escopo em uma linguagem de programa√ß√£o √© basicamente a se√ß√£o em que suas declara√ß√µes estar√£o vis√≠veis. No JavaScript, temos o escopo global, que pode ser acessado por qualquer script da p√°gina, e o local, que est√° vis√≠vel apenas para quem est√° do lado de dentro. Fun√ß√µes s√£o a principal forma de criar escopos locais no JavaScript. Para simplificar este artigo tratarei das outras maneiras de criar escopos locais apenas ao final.

    Tudo isso significa que as vari√°veis que s√£o declaradas dentro de um escopo local s√≥ podem ser acessadas por quem estiver do lado de dentro.


    ---
    
    # Escopo e Hoisting  
    ## Um pouco sobre escopo no JavaScript

    Uma vari√°vel  `count` declarada dentro da fun√ß√£o  `countHumans`  n√£o estar√° vis√≠vel na fun√ß√£o  `countAnimals`  no exemplo a seguir:

    ```javascript
    var humans = ['Hugo', 'J√©ssica', 'Victor'];
    var animals = ['dog', 'cat'];

    function countHumans() {
        var count = humans.length;
        return count;
    } // => 3

    function countAnimals() {
        var count = animals.length;
        return count;
    } // => 2

    ```

    Gra√ßas a essa funcionalidade, podemos utilizar bons nomes nas nossas vari√°veis sem nos preocuparmos demais com conflitos entre elas.

    Escopos que est√£o dentro de outros podem acessar todas as vari√°veis ali declaradas, tanto para ler quanto para mudar seus valores.       
    
    ---
    # Escopo e Hoisting  

    ## O que √© Escopo?
    Em ES5, as fun√ß√µes s√£o nosso delimitador de escopo de fato para declara√ß√£o de vari√°veis. Isso significa que blocos usuais de loops e estruturas condicionais (como if,for, while, switch e try) N√ÉO delimitam escopos, diferente de muitas outras linguagens como C, C++, Java e ES2015.
    Portanto, esses blocos compartilham do mesmo escopo que a fun√ß√£o que os cont√©m. Dessa forma, pode ser perigoso declarar vari√°veis dentro de blocos, j√° que vai parecer que a vari√°vel pertence apenas ao bloco. Esse √© um problema comum para programadores vindos de linguagens com escopos em blocos.       

    ---
    # Escopo e Hoisting  

    ## Como entrar em um escopo?

    Temos quatro maneiras:

    -   Definido pela linguagem: todo escopo possui o this e, caso seja uma fun√ß√£o, tamb√©m o arguments;
    -   Declara√ß√£o de uma vari√°vel: vari√°veis declaradas como var name;
    -   Declara√ß√£o de uma fun√ß√£o: fun√ß√µes declaradas na forma function family() {};
    -   Par√¢metros de uma fun√ß√£o: caso uma fun√ß√£o seja chamada na forma brother (name), podendo ser brother (name, mother, ‚Ä¶), sendo name e mother entram no escopo da fun√ß√£o.       
        
    ---
    # Escopo e Hoisting  

    Como poderia ficar nosso c√≥digo:

    ```javascript
    var val = 1;
    scopeBloc();

    function scopeBloc() {    
    for(var i = 0; i < 10; i++) {
        var newVal = val + i;
        console.log(newVal); // 10
     }     
     console.log(newVal); // 10
     console.log(val); // 1 
    }

    ```

    No c√≥digo acima ainda podemos acessar a varivel newVal fora do bloco do loop, bem como podemos criar um escopo dentro do loop em ES5 utilizando ‚ÄòIIFE‚Äô. 

    
    ---
    # Escopo e Hoisting   

    Essa era nossa √∫nica maneira de se criar um escopo dentro de um bloco, mas com a vinda do ES2015 isto mudou.  
    
    ```javascript
    var val = 1;
    scopeBloc();
     
    function scopeBloc() {    
        for(var i = 0; i < 10; i++) {
            (function() {
                var newVal = val + i;
                console.log(newVal); // 10
            }());
        }     
        console.log(newVal); // ReferenceError: newVal is not defined
        console.log(val); // 1 
    }

    ```    
    ---
    # Escopo e Hoisting 

    Vamos ver se ficou claro:

    ```javascript
    var val = 1; // escopo global
    var text = "Estudando Escopo"; // escopo global
    function scopeBloc() {    
        for(var i = 0; i < 10; i++) { // i escopo local
            (function() {
                var newVal = val + i; // newVal escopo do bloco if
                console.log(newVal); // vai fazer o loop de 1 a 10
                console.log(text); 
                // var fazer o loop com a string Estudando Escopo
            }());
         }
         var getPhrase =  function() {
             var val = 2; // ecopo de bloco
             Pharse = "I love JavaScript"; 
             // escopo global (var n√£o foi utilizada)
            console.log(val); // 2
            console.log(i); // 10
            console.log(text); // Estudando Escopo
            console.log(Pharse); // I love JavaScript
         }();
         console.log(newVal); // ReferenceError: newVal is not defined
         console.log(val); // 1 
    }     
    scopeBloc();
    console.log(val); // 1
    console.log(text); // Estudando Escopo
    console.log(Pharse); // I love JavaScript
    ```

    ---
    # Escopo e Hoisting   

    E o que √© this?

    This √© uma refer√™ncia ao contexto no qual a fun√ß√£o est√° sendo executada, ao objeto ao qual ela pertence. Em grande parte de outras linguagens othis √© uma refer√™ncia ao objeto atual instanciado. Contudo, para dar um n√≥ na sua mente, em JavaScript o this vai depender de como sua fun√ß√£o foi inicializada.

    Algumas formas de chamar uma fun√ß√£o:

    1.  Diretamente
    2.  Como um m√©todo
    3.  Explicitamente aplicada
    4.  Como construtor
      
    ---
    # Escopo e Hoisting   

    ## Diretamente

    ```javascript
    var text = 'Escopo em Javascript'
    function createPhrase(textA, textB) {
        var textC = 'Quando uma fun√ß√£o √© chamada diretamente'
        console.log(this); // imprimi window
        console.log(textA + textB + ' - ' + textC); 
        // Entendendo como funciona Escopo em Javascript 
        // Quando uma fun√ß√£o √© chamada diretamente 
    }
     
    createPhrase('Entendendo como funciona ', text);

    ```

    Quando uma fun√ß√£o √© chamada diretamente, this far√° refer√™ncia ao contexto global, que no caso dos navegadores √© o objeto window.


    ---
    # Escopo e Hoisting   

    ## Como um m√©todo

    S√£o fun√ß√µes armazenadas dentro das propriedades de um objeto. Se uma fun√ß√£o for chamada como um m√©todo de um objeto, ent√£o this, dentro dessa fun√ß√£o, far√° refer√™ncia a esse objeto.
    
    ```javascript
    var text = 'Escopo em Javascript'
    var myObject = {
        textA: 'Entendendo como funciona ',
        textB: 'Quando uma fun√ß√£o √© chamada com um m√©todo',
        createPhrase: function (textC) {
            console.log(this.textA + textC + ' - ' + this.textB); 
            // Entendendo como funciona Escopo em Javascript
            // Quando uma fun√ß√£o √© chamada com um m√©todo
        }
    };
     
    myObject.createPhrase(text);
    ```
    ---
    # Escopo e Hoisting   

    ## Explicitamente aplicada

    Uma fun√ß√£o pode ser aplicada explicitamente a qualquer objeto, e para isso utilizamos os m√©todos call ou apply.

    Os m√©todos call e apply nos permitem controlar o valor de this e assim definir a qual objeto ele far√° refer√™ncia. A diferen√ßa entre eles √© a forma que recebem os par√¢metros e tamb√©m a velocidade de execu√ß√£o que pode variar de navegador para navegador.

    ```javascript
        var text = 'Escopo em Javascript';
        var myObject = {
            phraseC: 'Entendendo como funciona ',
            phraseD: 'Quando uma fun√ß√£o √© aplicada explicitamente'
        };
         
        function createPhrase(phraseA, phraseB) {
            console.log(this); // imprimi objeto
            console.log(this.phraseC + phraseA  + ' - ' +  this.phraseD  + ' => ' + phraseB); 
            // Entendendo como funciona Escopo em Javascript 
            // Quando uma fun√ß√£o √© aplicada explicitamente => entenderam ?
        }
         
        createPhrase.call(myObject, text, 'entenderam ?');  
        createPhrase.apply(myObject, [text, 'entenderam ?']);

    ```

    ---
    # Escopo e Hoisting   

     ## Explicitamente aplicada

    Na fun√ß√£o createPhrase fa√ßo refer√™ncia ao objeto ‚ÄòmyObject‚Äô. Com isso, consigo acessar os n√≥s dele: this.phraseC que tem como valor Entendendo como funciona e this.phraseD que tem como valor Quando uma fun√ß√£o √© aplicada explicitamente.

    ---
    # Escopo e Hoisting   

    ## Como um construtor

    Quando uma fun√ß√£o √© usada como um construtor (usando a palavra-chave new), this far√° refer√™ncia ao novo objeto que est√° sendo constru√≠do:

    ```javascript
    function work() {
        this.startWork = '8:00';
        this.finishWork = '19:00';
        this.officialName = officialName();
     
        this.getstartWork = function() {
            return this.startWork;
        };
     
        this.getfinishWork = function() {
            return this.finishWork;
        };
     
        this.getOfficialName = function() {
         return this.officialName;
        };
    };
     

    ```
    
    ---
    # Escopo e Hoisting   

    ## Como um construtor

    Quando uma fun√ß√£o √© usada como um construtor (usando a palavra-chave new), this far√° refer√™ncia ao novo objeto que est√° sendo constru√≠do:

    ```javascript
    function officialName() {
        var name = 'Luiz Celso F Alves';
        return name;
    };
     
    var myWork1 = new work();
    var myWork2 = new work();
     
    console.log('Entrada: '+myWork1.getstartWork());// Entrada: 8:00
    console.log('Sa√≠da: '+myWork1.getfinishWork()); // Sa√≠da: 19:00
    console.log('Nome: '+myWork1.getOfficialName());// Nome: Luiz Celso F Alves
     
    myWork2.startWork = '10:00';
    console.log('Novo horario de entrada: '+myWork2.startWork);// Novo horario de entrada: 10:00

    ```

    ---
    # Escopo e Hoisting 

    ## Como funcionam as declara√ß√µes

    Declarar vari√°veis √© algo extremamente necess√°rio. Sem isso nossos c√≥digos seriam simplesmente complicados demais. No JavaScript, declaramos uma vari√°vel usando o termo  `var`  seguido do nome que ela levar√°. Ela ser√° adicionada ao escopo atual.

    O termo  `function`  tamb√©m simboliza uma declara√ß√£o de uma vari√°vel.  `function add(){}`  cria a vari√°vel  `add`  no escopo atual. Fun√ß√µes an√¥nimas tamb√©m podem ser declaradas ao omitirmos o nome (`function(){}`).

    Por√©m, ao contr√°rio do que voc√™ talvez imagine, todas as declara√ß√µes s√£o feitas quando seu c√≥digo JavaScript come√ßa a ser compilado. S√≥ depois do que chamamos de  _Compile Time_, o script come√ßa a ser executado (na fase que chamamos de  _Runtime_).

       
    ---
    # Escopo e Hoisting 

    ## Como funcionam as declara√ß√µes 

    O processo ocorre mais ou menos assim:

    1.  Durante o  _Compile Time_, todo o c√≥digo √© analisado. Declara√ß√µes s√£o encontradas e todas as vari√°veis s√£o criadas dentro de seus respectivos escopos.
    2.  Ap√≥s cada linha ser analisada, entramos em  _Runtime_. Seu c√≥digo √©, ent√£o, executado.

    Sendo assim, mesmo que sua declara√ß√£o esteja no meio do c√≥digo, ela ser√° ‚Äúi√ßada‚Äù (_hoisted_, em ingl√™s) para o in√≠cio do escopo em que ela est√° inserida. Neste momento, todas as vari√°veis declaradas com o termo  `var`  ganham o valor de  `undefined`  e as fun√ß√µes t√™m seu conte√∫do compilado. √â isso que chamamos de  _hoisting_. Apenas quando entramos em  _Runtime_  todas as linhas s√£o executadas, incluindo as atribui√ß√µes.      


    ---
    # Escopo e Hoisting  

    Um pouco de c√≥digo para entendermos melhor:

    1.  A linha  `var name = 'hugo';`  √© interpretada durante o  _Compile Time_.
    2.  A vari√°vel  `name`  √© criada no escopo em que est√° inserida.
    3.  Supondo que n√£o temos mais linhas no c√≥digo, terminamos o  _Compile Time_.
    4.  Em seguida voltamos √† esta linha, que √© executada durante o  _Runtime_.
    5.  Uma refer√™ncia a  `name`  √© procurada dentro do escopo atual.
    6.  Quando a refer√™ncia √© encontrada, o valor  `'hugo'`  √© atribu√≠do a ela.      
    ---
    # Escopo e Hoisting 

    ## Entendendo melhor o primeiro exemplo

    No primeiro exemplo, vimos que a sa√≠da no Console foi  `undefined`, mesmo tendo uma vari√°vel  `number`  j√° declarada antes da fun√ß√£o ser executada.

    ```javascript
    var number = 10;
    function init(){
        console.log(number);
        var number = 5;
    }
    init();

    ```
       
    ---
    # Escopo e Hoisting   

    Isso aconteceu porque este script foi interpretado da seguinte forma:

    #### _Compile Time_

    1.  Come√ßamos o  _Compile Time_  declarando a vari√°vel  `number`  da primeira linha no escopo global.
    2.  Logo depois declaramos a fun√ß√£o  `init`  e iniciamos a sua compila√ß√£o.
    3.  Dentro do escopo de  `init`  encontramos a declara√ß√£o de  `number`  e adicionamos uma refer√™ncia a ela dentro deste escopo.
    4.  Nenhuma outra declara√ß√£o √© encontrada e n√£o temos nenhum erro de sintaxe. O  _Compile Time_  √© finalizado.

    Neste momento o c√≥digo est√° virtualmente assim:

    ```javascript
    // var number; (declarada no escopo global)
    function init(){
        // var number; (declarada no escopo de init)
        console.log(number);
        number = 5;
    }

    number = 10;
    init();

    ```

    ---
    # Escopo e Hoisting  

    #### _Runtime_

    1.  Entramos no modo de execu√ß√£o. Pulando as declara√ß√µes, come√ßamos com  `number = 10`.
    2.  A vari√°vel  `number`  do escopo global √© a que recebe o valor de  `10`
    3.  Em seguida, a linha  `init()`  executa a fun√ß√£o  `init`.
    4.  Dentro de  `init`  rodamos o  `console.log(number)`.  `number`  se refere √†  `number`  do escopo de  `init`. Por enquanto o valor deste  `number`  √©  `undefined`.
    5.  Na √∫ltima linha da fun√ß√£o  `init`, executamos  `number = 5`. A vari√°vel  `number`de dentro do escopo de  `init`  agora tem o valor de  `5`.

    Esse comportamento de ‚Äúi√ßar‚Äù vari√°veis parece anormal, j√° que esperamos que a declara√ß√£o e atribui√ß√£o da vari√°vel aconte√ßam no mesmo momento e na linha em que ela se encontra. Por√©m, por causa da forma como o JavaScript √© compilado e interpretado, estas duas a√ß√µes acontecem em momentos diferentes.

    ---
    # Escopo e Hoisting  

    Ter a fase de compila√ß√£o do JavaScript √© essencial para que o script seja validado corretamente pelo navegador ou outra plataforma que executar√° seu c√≥digo. Al√©m disso, quem executa o JavaScript pode preparar de antem√£o cache para escopos, vari√°veis e fun√ß√µes.

    Entender pelo menos o b√°sico de escopo e  _variable hoisting_  √© essencial para escrevermos JavaScript de qualidade.      
    ---
    # Escopo e Hoisting  

    ## Evitando problemas

    Para evitar que voc√™ tenha problemas por causa do  _hoisting_, a melhor dica que posso te dar √©: declare as vari√°veis no in√≠cio do escopo, mesmo sem a inicializa√ß√£o.

    ```javascript
    function countUsers() {
        var count, users;
        users = app.users;
        count = users.length;

        return count;
    }

    ```

    Para te ajudar a encontrar lugares onde o  _hoisting_  pode trazer problemas, √© interessante usar um  _linter_  ou  _hinter_  no seu c√≥digo. Essas ferramentas analisam o que voc√™ escreveu e te d√£o dicas para melhorar. Um dos mais conhecidos √© o  [JSHint](http://www.jshint.com/).

    ---
    # Escopo e Hoisting

    ## Outras formas de criar escopos

    Al√©m de fun√ß√µes, existem tamb√©m outras formas de se criar um novo escopo no JavaScript:

    -   Usando a fun√ß√£o  `eval()`. Mas evite, pois  [Eval is Evil](http://stackoverflow.com/questions/86513/why-is-using-the-javascript-eval-function-a-bad-idea).
    -   Dentro de  `catch`  em um  `try`.  [Saiba mais sobre  `try‚Ä¶catch`](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/try...catch).
    -   Dentro de um  `with`.  [Saiba mais sobre  `with`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/with). Evite este cara tamb√©m.

    Escopos n√£o s√£o criados dentro de todos os blocos, logo, vari√°veis declaradas dentro de  `if`,  `for`,  `switch`  ou outro bloco s√£o criadas dentro do escopo em que estes blocos est√£o.

    Por√©m, a partir do EcmaScript 6 (nova vers√£o da especifica√ß√£o para implementa√ß√£o do JavaScript), o termo  `let`  nos deixar√° declarar vari√°veis que s√£o criadas em escopos dentro destes blocos. Isso vai ser bem interessante, j√° que permitir√° a cria√ß√£o de vari√°veis dentro de loops  `for`, por exemplo.  [Veja um pouco mais sobre como usar o  `let`](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/let).          

    ---
    class: center, middle
    # jQuery

    ---
    # Introdu√ß√£o ao jQuery 

    Por conta das dificuldades enfrentadas pelos programadores JavaScript para p√°ginas Web, foi criada uma biblioteca que traz diversas funcionalidades voltadas √† solu√ß√£o dos problemas mais dif√≠ceis de serem contornados com o uso do JavaScript puro.

    A principal vantagem na ado√ß√£o de uma biblioteca de JavaScript √© permitir uma maior compatibilidade de um mesmo c√≥digo com diversos navegadores. Uma maneira de se atingir esse objetivo √© criando fun√ß√µes que verificam quaisquer caracter√≠sticas necess√°rias e permitam que o programador escreva um c√≥digo √∫nico para todos os navegadores.

    Al√©m dessa vantagem, o jQuery, que √© hoje a biblioteca padr√£o na programa√ß√£o front-end para Web, traz uma sintaxe mais "fluida" nas tarefas mais comuns ao programador que s√£o: selecionar um elemento do documento e alterar suas caracter√≠sticas.

    ---
    # Introdu√ß√£o ao jQuery

    ## Principais funcionalidades do jQuery

    - Resolu√ß√£o da incompatibilidade entre os navegadores.
    - Redu√ß√£o de c√≥digo.
    - Reutiliza√ß√£o do c√≥digo atrav√©s de plugins.
    - Utiliza√ß√£o de uma vasta quantidade de plugins criados por outros desenvolvedores.
    - Trabalha com AJAX e DOM.
    - Implementa√ß√£o segura de recursos do CSS1, CSS2 e CSS3.
    
    ---
    # Introdu√ß√£o ao jQuery

    ## O que √© jQuery?
    jQuery √© uma ***biblioteca***, ou um conjunto de incrementos √∫teis, para a linguagem de programa√ß√£o JavaScript. Pode parecer contra intuitivo aprender a usar uma biblioteca antes de aprender a linguagem de fato, mas h√° algumas boas raz√µes para isso.

    Demora um pouco at√© que se fique familiarizado e confort√°vel com JavaScript, e √© mais dif√≠cil manipular elementos HTML diretamente por JavaScript do que por jQuery. Para ajud√°-lo a construir websites fant√°sticos mais r√°pido, vamos come√ßar com jQuery.
    jQuery oferece uma interface simples para o b√°sico de JavaScript. Para muitos usu√°rios √© mais f√°cil aprender jQuery primeiro e ent√£o mergulhar nos detalhes profundos de JavaScript mais tarde.
    jQuery √© muito melhor no que diz respeito a dar resultados visuais imediatos do que JavaScript. No final desta li√ß√£o, voc√™ ter√° constru√≠do seu pr√≥prio bot√£o interativo!
    

    ---
    # Introdu√ß√£o ao jQuery

    ## Modelo de Objetos de Documentos

    Um documento HTML √© estruturado de acordo com o Modelo de Objetos de Documentos, ou DOM (do ingl√™s Document Object Model). √â por meio da intera√ß√£o com o DOM que a jQuery √© capaz de acessar e modificar c√≥digos HTML.

    O DOM √© composto por todos os elementos da p√°gina, organizados de forma hier√°rquica, refletindo a maneira como o documento HTML √© ordenado
    
    ---
    # Introdu√ß√£o ao jQuery

    Assim como o div de CSS se refere ao elemento HTML < div >, o 'div' da jQuery se refere ao mesmo elemento HTML < div >. 

    Voc√™ pode pensar no nome do elemento passado para a jQuery como sendo id√™ntico ao elemento CSS, ele apenas fica entre aspas. 
    
    ---
    # Introdu√ß√£o ao jQuery

    Ent√£o, por exemplo, voc√™ pode apontar qualquer coisa da classe 'button' com

    ```javascript
    $('.button').someAction
    ```

    Como voc√™ deve lembrar, .button no seu arquivo CSS √© como voc√™ aponta qualquer coisa de class="button" no seu arquivo HTML.
    
    ---
    # Introdu√ß√£o ao jQuery  

    ## jQuery Selectors
    
    Um dos maiores poderes do jQuery est√° na sua capacidade de selecionar elementos a partir de seletores CSS.

    Como j√° aprendemos, exitem diversas formas de selecionarmos quais elementos ganhar√£o determinado estilo. Infelizmente muitos desses seletores n√£o funcionam em todos os navegadores. Contudo, no jQuery, os temos todos √† nossa disposi√ß√£o.

    Por exemplo, se quisermos esconder todas as tags < td > filhas de um < tbody >, basta:

    ```javascript
    $('tbody td').hide();
    ```

    ---
    # Introdu√ß√£o ao jQuery

    Seletores mais comuns:

    ```javascript
    // pinta o fundo do formulario com id "form" de preto
    $('#form').css('background', 'black');

    // esconde todos os elementos com o atributo "class" igual a "headline"
    $('.headline').hide();
    

    // muda o texto de todos os par√°grafos
    $('p').text('al√¥ :D');
    ```

    Mais exemplos:

    ```javascript
    $('div > p:first'); // o primeiro elemento <p> imediatamente filho de um <div>

    $('input:hidden'); // todos os inputs invis√≠veis

    $('input:selected'); // todas as checkboxes selecionadas

    $('input[type=button]'); // todos os inputs com type="button"

    $('td, th'); // todas as tds e ths
    ```

    ---
    # Introdu√ß√£o ao jQuery

    Lembre-se de que a fun√ß√£o que chamamos ap√≥s o seletor √© aplicada para todos os elementos retornados. Veja:

    ```javascript
    // forma ineficiente
    alert($('div').text() + $('p').text() + $('ul li').text());

    // forma eficiente :D
    alert($('div, p, ul li').text());

    ```
    A fun√ß√£o text() √© chamada para todos os < div >s, < p >s, e < li >s filhos de < ul >s.

    ---
    # Introdu√ß√£o ao jQuery

    ##  Filtros customizados e por DOM

    Existem diversos seletores herdados do css que servem para selecionar elementos baseados no DOM. Alguns deles s√£o:

    ```javascript
        $('div > p'); // <p>s imediatamente filhos de <div>
        $('p + p'); // <p>s imediatamente precedidos por outro <p>
        $('div:first-child'); // um elemento <div> que seja o primeiro filho
        $('div:last-child'); // um elemento <div> que seja o √∫ltimo filho
        $('div > *:first-child'); // um elemento que seja o primeiro filho direto de uma <div>
        $('div > *:last-child'); // um elemento que seja o ultimo filho direto de uma <div>
        $('div p:nth(0)'); // o primeiro elemento <p> filho de uma <div>
        $('div:empty'); // <div>s vazios
    ```


    ---
    # Introdu√ß√£o ao jQuery
    ## Come√ßando

    A seguir, precisamos dar in√≠cio √† m√°gica da jQuery usando a sintaxe $(document).ready(); que voc√™ viu. Ela funciona assim:

    ```javascript
    $(document).ready(function(){

    });
    ```

    - $() diz, "ei, a m√°gica da jQuery est√° prestes a acontecer!"
    - Colocar o documento document entre par√™nteses nos diz que estamos prestes a realizar nossa m√°gica no pr√≥prio documento HTML.
    - .ready(); √© uma fun√ß√£o, ou a√ß√£o b√°sica, em jQuery. Ela diz "ei, vou come√ßar a fazer as coisas assim que o documento HTML estiver pronto!"
    - Qualquer coisa dentro dos par√™nteses de .ready() √© o evento jQuery que acontece assim que o documento HTML fica pronto.
    
    ---
    # Introdu√ß√£o ao jQuery

    Assim,

    ```javascript
    $(document).ready(something);

    ```
    diz: "quando o documento HTML estiver pronto, fa√ßa something!" (Vamos te mostrar como substituir o something por uma a√ß√£o no pr√≥ximo exerc√≠cio.)

    Perceba que .ready(); termina com um ponto-e-v√≠rgula. Isso mostra para a jQuery que voc√™ terminou o comando.

    
    ---
    # Introdu√ß√£o ao jQuery

    ## Utilit√°rio de itera√ß√£o do jQuery

    O jQuery traz tamb√©m entre suas diversas funcionalidades, uma fun√ß√£o que facilita a itera√ß√£o em elementos de um Array com uma sintaxe mais agrad√°vel:

    ```javascript
    $("#menu-departamentos li").each(function (index, item) {
        alert(item.text());
    });
    ```
    
    ---
    # Introdu√ß√£o ao jQuery

    A fun√ß√£o each chamada logo ap√≥s um seletor executa a fun√ß√£o que passamos como argumento para cada um dos itens encontrados. Essa fun√ß√£o precisa de dois argumentos. O primeiro ser√° o "√≠ndice" do elemento atual na cole√ß√£o (0 para o primeiro, 1 para o segundo e assim por diante), e o segundo ser√° o pr√≥prio elemento.

    Tamb√©m √© poss√≠vel utilizar a fun√ß√£o each do jQuery com qualquer Array:
    
    ```javascript

    var pessoas = ["Jo√£o", "Jos√©", "Maria", "Ant√¥nio"];

    $.each(pessoas, function(index, item) {
        alert(item);
    })

    ```
    Nesse caso, chamamos a fun√ß√£o each diretamente ap√≥s o $, pois essa implementa√ß√£o √© um m√©todo do pr√≥prio objeto $. Passamos dois argumentos, o primeiro √© o Array que queremos percorrer e o segundo a fun√ß√£o que desejamos executar para cada um dos itens do Array.
    

    ---
    # Introdu√ß√£o ao jQuery


    ```javascript
    $('.novidades button').click(function() {
        $('.novidades').removeClass('painel-compacto');
    });
    ```

    Mais exemplos:

    -   [Documenta√ß√£o da API do jQuery](http://jquery.com/api/)
    -   [jQuery Selectors](https://www.tutorialrepublic.com/jquery-reference/jquery-selectors.php)
    -   [Visual jQuery - Uma documenta√ß√£o categorizada e naveg√°vel da API do jQuery](http://visualjquery.com/)
    -   [Express√µes do jQuery: CSS](http://jquery.com/docs/Base/Expression/CSS/)
    -   [Express√µes do jQuery: XPath](http://jquery.com/docs/Base/Expression/XPath/)
    -   [Express√µes do jQuery: Customizadas](http://jquery.com/docs/Base/Expression/Custom/)
    -   [Eventos especiais no jQuery](http://jquery.com/docs/EventModule/)
    -   [jQuery DOM Traversing](http://jquery.com/docs/Base/Traverse/)


    ---
    class: center, middle
    # AJAX        

    ---
    # AJAX   
    ## XMLHttpRequest aka AJAX

    [`XMLHttpRequest`](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest "XMLHttpRequest")  torna o envio de requisi√ß√µes HTTP muito f√°cil. Basta criar uma inst√¢ncia do objeto, abrir uma url e enviar uma requisi√ß√£o. O [status](https://developer.mozilla.org/en-US/docs/HTTP/HTTP_response_codes "HTTP response codes") [HTTP](https://developer.mozilla.org/en-US/docs/HTTP/HTTP_response_codes "HTTP response codes") do resultado assim como o seu conte√∫do estar√£o dispon√≠veis quando a transa√ß√£o for completada. Esta p√°gina descreve alguns casos comuns de uso desse poderoso objeto JavaScript.

    ```js
    function reqListener () {
      console.log(this.responseText);
    };

    var oReq = new XMLHttpRequest();
    oReq.onload = reqListener;
    oReq.open("get", "yourFile.txt", true);
    oReq.send();
    ``` 
    ---
    # AJAX   

    ## Tipos de Requisi√ß√µes

    Uma requisi√ß√£o feita via XMLHttpRequest pode buscar dados de duas maneiras, s√≠crona e ass√≠ncrona. O tipo de requisi√ß√£o √© dado pelo argumento  `async`  que √© opcional (terceiro argumento) e √© definido no m√©todo XMLHttpRequest [open()](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest#open() "DOM/XMLHttpRequest#open()"). Se esse argumento for  `true`ou n√£o especificado, o  `XMLHttpRequest`  ser√° processado de maneira ass√≠ncrona, caso contr√°rio o processamento ser√° s√≠ncrono. Uma discuss√£o detalhada e demonstra√ß√µes desses dois tipos podem ser encontradas na p√°gina [requisi√ß√µes s√≠ncronas e ass√≠ncronas](https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Synchronous_and_Asynchronous_Requests "Synchronous and Asynchronous Requests"). No geral a melhor pr√°tica √© a das solicita√ß√µes ass√≠ncronas.
    ---
    # AJAX 

    ## Manipulando Respostas

    Existem v√°rios tipos de  [atributos de resposta](http://www.w3.org/TR/XMLHttpRequest2/#response "http://www.w3.org/TR/XMLHttpRequest2/#response") definidos pela especifica√ß√£o da W3C para o XMLHttpRequest. Eles informam ao cliente que efetuou a requisi√ß√£o XMLHttpRequest informa√ß√µes importantes sobre o status da resposta. Em alguns casos onde se lida com tipos de resposa de n√£o-texto, os tipos de resposta podem envolver alguma manipula√ß√£o e/ou an√°lise conforme descrito nas se√ß√µes seguintes.

    ---
    # AJAX 

    ### Analisando e manipulando a propriedade  `responseXML`

    Se voc√™ utiliza o  `XMLHttpRequest` para obter o conte√∫do de um documento XML remoto, a propriedade  `responseXML`  ser√° um objeto DOM que cont√©m um documento XML, o que pode dificultar a manipula√ß√£o e an√°lise.

    As cinco formas mais utilizadas para an√°lisar e manipular um arquivo XML s√£o:

    1.  Usando  [XPath](https://developer.mozilla.org/en-US/docs/XPath "XPath")  para an√°lisar parte deles.
    2.  Usando  [JXON](https://developer.mozilla.org/en-US/docs/JXON "JXON")  para converter em um Objeto JavaScript.
    3.  Manualmente  [Parsing and serializing XML](https://developer.mozilla.org/en-US/docs/Parsing_and_serializing_XML "Parsing_and_serializing_XML")  para strings ou objetos.
    4.  Usando  [XMLSerializer](https://developer.mozilla.org/en-US/docs/XMLSerializer "XMLSerializer")  para serializar  **√°rvores do DOM para strings ou para arquivos**.
    5.  [RegExp](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/regexp") pode ser usado se voc√™ souber de antem√£o qual √© o conte√∫do do XML. Voc√™ pode remover quebras de linhas, usando a RegExp para procurar as quebras de linha. No entanto, este √© o "√∫ltimo m√©todo", caso o c√≥digo do XML sofra altera√ß√µes, o m√©todo se torna falho.     
    ---
    # AJAX

    ### Analisando e manipulando uma propriedade  `responseText`  contendo um documento HTML

    Se voc√™ usa o  `XMLHttpRequest`  para recuperar o conte√∫do de uma p√°gina HTML remota, a propriedade  `responseText`  ser√° uma string contendo um a "sopa" de todos as tags HTML, o que pode ser dif√≠cil de manipular e analizar. Existem tr√™s formas b√°sicas para analizar esta sopa de string HTML:

    1.  Use a propriedade `XMLHttpRequest.responseXML`.
    2.  Introduza o conte√∫do dentro do corpo de um  [document fragment](https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment)  Atrav√©s de  `fragment.body.innerHTML`  e percorra o fragmento do DOM.
    3.  [RegExp](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp "https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/regexp") pode se usada se voc√™ sempre conhece o conte√∫do HTML  `responseText` de que tem em m√£os. Voc√™ pode quere remover quebras de linha, se voc√™ usar RegExp para varrer no que diz respeito a quebra de linhas. Contudo, este m√©todo √© um "√∫ltimo recurso" uma vez que se o c√≥digo HTML mudar um pouco, o m√©todo provavelmente ir√° falhar.

    ---
    # AJAX

    ```js
    function xhrSuccess() { 
        this.callback.apply(this, this.arguments); 
    }

    function xhrError() { 
        console.error(this.statusText); 
    }

    function loadFile(url, callback /*, opt_arg1, opt_arg2, ... */) {
        var xhr = new XMLHttpRequest();
        xhr.callback = callback;
        xhr.arguments = Array.prototype.slice.call(arguments, 2);
        xhr.onload = xhrSuccess;
        xhr.onerror = xhrError;
        xhr.open("GET", url, true); // `false` makes the request synchronous
        xhr.send(null);
    }
    ``` 

    Usando:

    ```js
    function showMessage(message) {
        console.log(message + this.responseText);
    }

    loadFile("message.txt", showMessage, "New message!\n\n");
    ```


    ---
    # AJAX 

    Devido √† pol√≠tica de mesma origem, linguagens client-side, como o JavaScript s√≥ podem fazer chamadas para o mesmo dom√≠nio.
    Se fizer uma chamada AJAX para outro dom√≠nio, ou ent√£o para seu pr√≥prio dom√≠nio, mas com uma porta diferente, HTTPS ou para um subdom√≠nio, a chamada Ajax vai falhar.

    JSONP ou "JSON with padding" √© um complemento ao formato de dados JSON. Ele prov√™ um m√©todo para enviar requisi√ß√µes de dados de um servidor para um dom√≠nio diferente, uma coisa proibida pelos navegadores t√≠picos.

    ---
    # AJAX 
    ## Controle de Acesso HTTP (CORS)

    Compartilhamento de recursos de origens cruzadas √© um mecanismo que usa cabe√ßalhos HTTP adicionais para garantir permiss√£o de acesso a recursos de um servidor diferente do da origem da p√°gina (dom√≠nio) correntemente em uso. Um user agent realiza um requisi√ß√£o HTTP de origem cruzada quando executa uma requisi√ß√£o de um dom√≠nio, protocolo ou porta diferente do qual originou o documento corrente.

    Um exemplo de requisi√ß√£o de origem cruzada: Uma pagina HTML acessada atrav√©s de http://domain-a.com faz requisi√ß√£o de uma imagem [<img> src](https://developer.mozilla.org/pt-BR/docs/Web/HTML/Element/img#Atributos) para http://domain-b.com/image.jpg. Muita p√°ginas na web, hoje em dia, utilizam recursos como CSS stylesheets, imagens e scripts de um dom√≠nio diferente do que originou a p√°gina corrente, como redes de entrega de conte√∫do (CSN).

    ---
    # AJAX 
    ## Controle de Acesso HTTP (CORS)

    Por raz√µes de seguran√ßa, os navegadores restringem solicita√ß√µes HTTP de origem cruzada iniciadas a partir de scripts. Por exemplo, [`XMLHttpRequest`](https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest "XMLHttpRequest √© uma API que fornece funcionalidade ao cliente para transferir dados entre um cliente e um servidor. Ele fornece uma maneira f√°cil de recuperar dados de um URL sem ter que fazer uma atualiza√ß√£o de p√°gina inteira. Isso permite que uma p√°gina da Web atualize apenas uma parte do conte√∫do sem interromper o que o usu√°rio esteja fazendo. XMLHttpRequest √© usado constantemente na programa√ß√£o de AJAX.")  e  [Fetch](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API)  seguem a  [pol√≠tica de mesma origem](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy). Assim, um aplicativo da web usando [`XMLHttpRequest`](https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest "XMLHttpRequest √© uma API que fornece funcionalidade ao cliente para transferir dados entre um cliente e um servidor. Ele fornece uma maneira f√°cil de recuperar dados de um URL sem ter que fazer uma atualiza√ß√£o de p√°gina inteira. Isso permite que uma p√°gina da Web atualize apenas uma parte do conte√∫do sem interromper o que o usu√°rio esteja fazendo. XMLHttpRequest √© usado constantemente na programa√ß√£o de AJAX.")  ou  [Fetch](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API)  s√≥ poder√° fazer solicita√ß√µes HTTP para seu pr√≥prio dom√≠nio. Para melhorar os aplicativos da Web, os desenvolvedores solicitaram que os fornecedores de navegador permitissem solicita√ß√µes entre dom√≠nios.

    <div style="width: 100%;background: #ffff; max-width: 100%;padding: 10px;text-align: center;">
        <img src="https://mdn.mozillademos.org/files/14295/CORS_principle.png" style="max-height: 265px;" />
    </div>

    ---
    # AJAX 

    O mec√¢nismo de Compartilhamento de Recursos entre Origens ([CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS)) fornece aos servidores de web controles de acesso entre dom√≠nios, que permitem transfer√™ncias seguras de dados entre dom√≠nios. Os navegadores modernos usam o CORS em um container API - como [`XMLHttpRequest`](https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest "XMLHttpRequest √© uma API que fornece funcionalidade ao cliente para transferir dados entre um cliente e um servidor. Ele fornece uma maneira f√°cil de recuperar dados de um URL sem ter que fazer uma atualiza√ß√£o de p√°gina inteira. Isso permite que uma p√°gina da Web atualize apenas uma parte do conte√∫do sem interromper o que o usu√°rio esteja fazendo. XMLHttpRequest √© usado constantemente na programa√ß√£o de AJAX.")  ou  [Fetch](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API) \- Para mitigar os riscos de pedidos HTTP de origem cruzada.

    Esse  [padr√£o de compartilhamento de origem cruzada](https://fetch.spec.whatwg.org/#http-cors-protocol)  √© usado para habilitar solicita√ß√µes de HTTP entre sites para:

    -   Invoca√ß√µes do  [`XMLHttpRequest`](https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest "XMLHttpRequest √© uma API que fornece funcionalidade ao cliente para transferir dados entre um cliente e um servidor. Ele fornece uma maneira f√°cil de recuperar dados de um URL sem ter que fazer uma atualiza√ß√£o de p√°gina inteira. Isso permite que uma p√°gina da Web atualize apenas uma parte do conte√∫do sem interromper o que o usu√°rio esteja fazendo. XMLHttpRequest √© usado constantemente na programa√ß√£o de AJAX.")  ou API [Fetch](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API) em modo cross-site, tal como discutido acima.
    -   Web Fonts (para o uso de fontes atrav√©s de cross-domain no  `@font`  do CSS),  [para que os servidores possam implantar fontes TrueType que s√≥ podem ser carregadas em v√°rios sites e usadas por sites da Web autorizados a faz√™-lo](https://www.w3.org/TR/css-fonts-3/#font-fetching-requirements).
    -   [Texturas WebGL](https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Using_textures_in_WebGL).
    -   Frames de Imagens/video desenhados para um canvas usando  [drawImage](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage).
    -   Folhas de estilo (para acesso  [CSSOM](https://developer.mozilla.org/pt-BR/docs/MDN/Doc_status/API/CSSOM)).
    -   Scripts (para exce√ß√µes desativadas).

    ---
    # AJAX 

    ## Exemplos de cen√°rios de controle de acesso

    Aqui, apresentamos tr√™s cen√°rios que ilustram como o Compartilhamento de Recursos entre Origens funciona. Todos estes exemplos usam o objeto  [`XMLHttpRequest`](https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest "XMLHttpRequest √© uma API que fornece funcionalidade ao cliente para transferir dados entre um cliente e um servidor. Ele fornece uma maneira f√°cil de recuperar dados de um URL sem ter que fazer uma atualiza√ß√£o de p√°gina inteira. Isso permite que uma p√°gina da Web atualize apenas uma parte do conte√∫do sem interromper o que o usu√°rio esteja fazendo. XMLHttpRequest √© usado constantemente na programa√ß√£o de AJAX."), que pode ser utilizado para fazer requisi√ß√µes entre origens em qualquer navegador compat√≠vel.

    Os snippets JavaScript inclusos nessas se√ß√µes (e inst√¢ncias execut√°veis do c√≥digo no servidor que tratam corretamente essas requisi√ß√µes entre origens)  [podem ser encontradas "em a√ß√£o" aqui](http://arunranga.com/examples/access-control/), e ir√£o funcionar em navegadores que suportam [`XMLHttpRequest`](https://developer.mozilla.org/pt-BR/docs/Web/API/XMLHttpRequest "XMLHttpRequest √© uma API que fornece funcionalidade ao cliente para transferir dados entre um cliente e um servidor. Ele fornece uma maneira f√°cil de recuperar dados de um URL sem ter que fazer uma atualiza√ß√£o de p√°gina inteira. Isso permite que uma p√°gina da Web atualize apenas uma parte do conte√∫do sem interromper o que o usu√°rio esteja fazendo. XMLHttpRequest √© usado constantemente na programa√ß√£o de AJAX.")  entre origens. Uma discuss√£o sobre Compartilhamento de Recursos entre Origens a partir da  [perspectiva do servidor (incluindo snippets de c√≥digo PHP) podem ser encontradas aqui](https://developer.mozilla.org/en-US/docs/Web/HTTP/Server-Side_Access_Control).

    ---
    # AJAX 

    ### Requisi√ß√µes simples

    Algumas requisi√ß√µes n√£o desencadeiam um  [pr√©-envio CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests). Essas s√£o denominadas ‚Äúrequisi√ß√µes simples‚Äù neste artigo, embora a especifica√ß√£o  [Fetch](https://fetch.spec.whatwg.org/ "The 'Fetch' specification") (que define CORS) n√£o utilize este termo. Uma requisi√ß√£o que n√£o desencadeia um [pr√©-envio CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests)‚Äîdenominada ‚Äúrequisi√ß√£o simples‚Äù‚Äî√© uma que atende todas as seguintes condi√ß√µes:

    -   Os √∫nicos m√©todos permitidos s√£o:
        -   [`GET`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Methods/GET "A tabela de compatibilidade nesta p√°gina √© gerada a partir de dados estruturados. Se voc√™ quiser contribuir com os dados, consulte https://github.com/mdn/browser-compat-data e envie-nos uma solicita√ß√£o pull.")
        -   [`HEAD`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Methods/HEAD "The documentation about this has not yet been written; please consider contributing!")
        -   [`POST`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Methods/POST "The documentation about this has not yet been written; please consider contributing!")
    ---
    # AJAX 
    
    ### Requisi√ß√µes simples

    -   Fora os cabe√ßalhos definidos automaticamente pelo user agent (por exemplo,  [`Connection`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/Connection "The documentation about this has not yet been written; please consider contributing!"),  [`User-Agent`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/User-Agent "O cabe√ßalho de requisi√ß√£o User-Agent cont√©m uma string caracter√≠stica que permite o protocolo de rede do cliente identificar o tipo de aplica√ß√£o, sistema operacional, fornecedor do software ou vers√£o do software do agente de usu√°rio do software solicitante."), ou [qualquer um dos outros cabe√ßalhos com nomes definidos na especifica√ß√£o Fetch como um ‚Äúnome de cabe√ßalho proibido‚Äù](https://fetch.spec.whatwg.org/#forbidden-header-name)), os √∫nicos cabe√ßalhos que s√£o permitidos a serem manualmente definidos s√£o [aqueles cujo a especifica√ß√£o Fetch define como sendo um ‚ÄúCORS-safelisted request-header‚Äù](https://fetch.spec.whatwg.org/#cors-safelisted-request-header), que s√£o:
        -   [`Accept`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/Accept "The documentation about this has not yet been written; please consider contributing!")
        -   [`Accept-Language`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/Accept-Language "The documentation about this has not yet been written; please consider contributing!")
        -   [`Content-Language`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/Content-Language "The documentation about this has not yet been written; please consider contributing!")
        -   [`Content-Type`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/Content-Type "Em uma requisi√ß√£o POST, resultado de uma submiss√£o de um formul√°rio HTML, o Content-Type da requisi√ß√£o √© especificado pelo atributo enctype do elemento <form> do HTML.")  (mas observe os requisitos adicionais abaixo)
        -   `[DPR](http://httpwg.org/http-extensions/client-hints.html#dpr)`
        -   `[Downlink](http://httpwg.org/http-extensions/client-hints.html#downlink)`
        -   `[Save-Data](http://httpwg.org/http-extensions/client-hints.html#save-data)`
        -   `[Viewport-Width](http://httpwg.org/http-extensions/client-hints.html#viewport-width)`
        -   `[Width](http://httpwg.org/http-extensions/client-hints.html#width)`
    ---
    # AJAX 
    
    ### Requisi√ß√µes simples

    -   Os √∫nicos valores permitidos para o cabe√ßalho [`Content-Type`](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Headers/Content-Type "Em uma requisi√ß√£o POST, resultado de uma submiss√£o de um formul√°rio HTML, o Content-Type da requisi√ß√£o √© especificado pelo atributo enctype do elemento <form> do HTML.") s√£o:
        -   `application/x-www-form-urlencoded`
        -   `multipart/form-data`
        -   `text/plain`


    ---
    # AJAX

    Por exemplo, suponha que o conte√∫do web no dom√≠nio `http://foo.example`  deseje invocar um outro conte√∫do no dom√≠nio `http://bar.other`. C√≥digos como este podem ser usados com o Javascript hospedado em foo.example:

    ```js
    var invocation = new XMLHttpRequest();
    var url = 'http://bar.other/resources/public-data/';
       
    function callOtherDomain() {
      if(invocation) {    
        invocation.open('GET', url, true);
        invocation.onreadystatechange = handler;
        invocation.send(); 
      }
    }
    ```
    ---
    # AJAX

    Isso far√° uma simples troca entre o cliente e o servidor, utilizando cabe√ßalhos CORS para o tratamento de privil√©gios.

    <div style="width: 100%;background: #ffff; max-width: 100%;padding: 10px;text-align: center;">
        <img src="https://mdn.mozillademos.org/files/14293/simple_req.png" style="max-height: 265px;" />
    </div>
       
    ---
    class: center, middle
    # Orienta√ß√£o a Objetos em JavaScript

    ---
    # Orienta√ß√£o a Objetos em JavaScript

    ---
    class: center, middle
    # Fun√ß√µes como objetos    

    ---
    # Fun√ß√µes como objetos
    
    ---
    class: center, middle
    # Fun√ß√µes de Alta Ordem     

    ---
    # Fun√ß√µes de Alta Ordem 

    ---
    class: center, middle
    #  API JS + HTML5

    ---
    #  API JS + HTML5

    ---
    class: center, middle
    # Transpiladores  

    ---
    # Transpilers / Source-to-source compiler

    Temos diversos sabores de  [linguagens de programa√ß√£o](https://pt.wikipedia.org/wiki/Lista_de_linguagens_de_programa%C3%A7%C3%A3o), para os mais variados ambientes e plataformas. De modo resumido temos linguagens de  [baixo n√≠vel](https://pt.wikipedia.org/wiki/Linguagem_de_programa%C3%A7%C3%A3o_de_baixo_n%C3%ADvel)e  [alto n√≠vel](https://pt.wikipedia.org/wiki/Linguagem_de_programa%C3%A7%C3%A3o_de_alto_n%C3%ADvel), ainda h√° as  [interpretadas](https://pt.wikipedia.org/wiki/Linguagem_interpretada),  [compiladas](https://pt.wikipedia.org/wiki/Linguagem_compilada)  e de  [script](https://pt.wikipedia.org/wiki/Linguagem_de_script).

    Cada linguagem tem caracter√≠sticas, sintaxes e paradigmas √∫nicos, existem muitos paradigmas de programa√ß√£o. As vezes uma linguagem possui similaridades sint√°ticas com outras, por√©m com comportamentos completamente diferentes.

    > Saber a sintaxe de uma linguagem nunca vai garantir que voc√™ vai aprender outra linguagem com facilidade, h√° muitas armadilhas escondidas em sintaxes parecidas.

    Muitas vezes uma linguagem possui uma sintaxe ou paradigma complexo ou verboso demais para ser produtivo usar ela diretamente. Nesse ponto que entram os  _transpilers_.
    ---
    # Transpilers / Source-to-source compiler

    #### Tradu√ß√£o

    De maneira geral, a fun√ß√£o de um  _transpiler_  √©  _traduzir_  um c√≥digo escrito em linguagem para um c√≥digo de outra.

    Isso tem a capacidade de facilitar muito determinadas tarefas, pois no lugar de um c√≥digo extremamente verboso e burocr√°tico voc√™ pode usar uma sintaxe mais direta e agrad√°vel.

    _Transpilers_  tamb√©m podem trazer novas funcionalidades para uma linguagem, como novos tipos primitivos, novas fun√ß√µes, fluxos‚Ä¶ N√£o h√° um limite definido para isso.

    ---
    # Transpilers / Source-to-source compiler

    #### Ache o bug

    Devido a natureza de alguns  _transpilers_ ou das linguagens de destino, algumas coisas podem ser particularmente dif√≠ceis de serem feitas, como o  _debugging_.

    Devido a particularidades da linguagem de destino, achar a origem de um  _bug_pode ser um problema, afinal o c√≥digo gerado n√£o √© o mesmo que voc√™ escreve.

    > N√£o √© recomendado usar um  _transpiler_  sem ter um bom conhecimento da linguagem de destino.

    #### Transpiller, Linguagem, Superset‚Ä¶

    N√£o da para entrar em muitos detalhes, por√©m √© importante saber que existem  _transpilers_  que s√£o linguagens novas trazendo pouca coisa da linguagem destino. Tamb√©m h√° aquelas que s√≥ adicionam  _coisas novas_, mantendo a sintaxe original ainda v√°lida.

    Seja como for, √© bom ler sobre o objetivo e filosofia do  _transpiler_  que voc√™ deseja usar. Esse tipo de coisa pode representar uma diferen√ßa muito grande no seu projeto.

    ---
    # Transpilers / Source-to-source compiler

    ### CoffeeScript

    ![](https://cdn-images-1.medium.com/max/1600/1*tI5IXkpztfhgR1hDenZvUg.png)

    [CoffeeScript](http://coffeescript.org/)  foi um dos primeiros  _transpilers_  para JavaScript a ganhar popularidade.

    Sua sintaxe e filosofia s√£o baseadas no Ruby (comunidade de onde ele teve origem). Algumas de suas filosofias foram t√£o importantes que influenciaram algumas atualiza√ß√µes no  [ES2015](https://github.com/lukehoban/es6features#arrows).

    Atualmente se discute se ele ainda √© popular, devido a algumas coisas que ele ‚Äúresolvia‚Äù j√° estarem  [presentes no ES2015](https://robots.thoughtbot.com/replace-coffeescript-with-es6).

    ---
    # Transpilers / Source-to-source compiler

    ### TypeScript

    ![](https://cdn-images-1.medium.com/max/1600/1*o6YyWsTgUSsIc6LzSmQWaA.png)

    [TypeScript](https://www.typescriptlang.org/)  divide opini√µes. Seu objetivo √© permitir a tipagem est√°tica do c√≥digo JavaScript e com isso diminuir bugs e melhorar a leitura e manuten√ß√£o do c√≥digo, al√©m disso ele adiciona recursos extras ao JavaScript

    Ele √© um  _superset_  do JavaScript, com isso um c√≥digo v√°lido em JavaScript √© um c√≥digo v√°lido para o TypeScript.


    ---
    # Transpilers / Source-to-source compiler

    ### Flow

    ![](https://cdn-images-1.medium.com/max/1600/1*KyKLFig1vSBPv8c4icD1pQ.png)

    [Flow](https://flowtype.org/)  √© a alternativa para tipagem est√°tica do Facebook. Muito popular com os usu√°rios de  [React](https://facebook.github.io/react/), tem o mesmo objetivo que o TypeScript, por√©m ele se limita a isso apenas.

    Atualmente tem se  [aproximado bastante do Babel](http://babeljs.io/blog/2016/10/24/6.18.0)  para tornar o fluxo de trabalho mais eficiente e otimizado.

    ---
    # Transpilers / Source-to-source compiler

    ### Babel

    ![](https://cdn-images-1.medium.com/max/1600/1*jYRZ2B8kPsvjRPLjl7syYQ.png)

    [Babel](http://babeljs.io/)  √© um caso a parte. Seu objetivo era fazer c√≥digo escrito em ES6 virar ES5. Seu nome era  **6to5**  por√©m esse nome  [j√° n√£o fazia sentido mediante](http://babeljs.io/blog/2015/02/15/not-born-to-die)  as atualiza√ß√µes constantes que o  _EcmaScript_  passou a ter.

    Hoje, al√©m de tornar um c√≥digo escrito em ES2015+ compat√≠vel com navegadores mais antigos, ele √© uma plataforma na qual v√°rios tipos de transforma√ß√µes podem ser feitas.

    Mais sobre essa mudan√ßa foi divulgada recentemente em  [The State of Babel](http://babeljs.io/blog/2016/12/07/the-state-of-babel).

    > Babel √© sem d√∫vida uma das ferramentas mais populares no ecossistema JavaScript. Muito do que temos hoje se deve babel.

    #### Sujeira

    Nem tudo s√£o flores no Babel, infelizmente ao transformar o c√≥digo ES2015+ para ES5 muito lixo √© gerado, e h√° perda de performance nesse c√≥digo (devido a sujeira), TypeScript tamb√©m tem esse problema.  
    Este √© o pre√ßo a se pagar por tantos benef√≠cios.

    A vantagem que o Babel tem frente aos outros  _transpilers_  √© que com o passar o tempo voc√™ pode remover ele do projeto. Com atualiza√ß√µes constantes, cada vez mais navegadores tem  [suporte quase completo ao ES2015+](http://kangax.github.io/compat-table/es6/)

    ---
    # Transpilers / Source-to-source compiler

    ### JSX

    [JSX](https://facebook.github.io/jsx/)  √© uma especifica√ß√£o/linguagem de marca√ß√£o, semelhante ao XML, que permite gerar c√≥digo para  [V-DOM](http://reactkungfu.com/2015/10/the-difference-between-virtual-dom-and-dom/).

    Ele √© usado para facilitar a escrita desse tipo de c√≥digo, que seria muito verboso sem o auxilio dele.
    
    ---
    # Transpilers / Source-to-source compiler
    ### Tipagem e JavaScript

    A discuss√£o da necessidade de  [tipagem no JavaScript](https://medium.com/javascript-scene/you-might-not-need-typescript-or-static-types-aa7cb670a77b)  n√£o √© nova. Por√©m uma coisa √© indiscut√≠vel: A checagem de tipos s√≥ vai acontecer em  _tempo de compila√ß√£o_.

    Enquanto o c√≥digo √© compilado para JavaScript v√°lido a checagem √© feita e funciona muito bem, por√©m enquanto o c√≥digo √© executado (_runtime_) n√£o existe essa checagem.

    > TypeScript e Flow s√£o muito bons, mas n√£o corrigem falhas de programa√ß√£o.


    ---
    class: center, middle
    # Babel  

    ---
    # Babel
    #### Instalando

    Iremos utilizar o  [Babelify](https://github.com/babel/babelify), um m√≥dulo  [npm](https://www.npmjs.com/)  feito para funcionar juntamente com o  [Browserify](http://browserify.org/), outro m√≥dulo que empacota todos os seus requires para serem usados no browser.

    Para instalar ambos, √© necess√°rio ter instalado em seu computador o  [Node.js](https://nodejs.org/), que juntamente instala o npm (Node Package Manager) ou Gerenciador de Pacotes Node.

    Navegue via terminal at√© a raiz do seu projeto e digite o comando abaixo:
    
    ```sh
    npm install --save-dev browserify babelify babel-preset-es2015
    ```

    ---
    # Babel

    O comando ir√° instalar o Browserify, Babelify e o plugin es2015 do Babel, respons√°vel por cuidar da convers√£o de ES2015 para ES5, al√©m de salv√°-los na lista de devDependencies do seu  [package.json](https://docs.npmjs.com/files/package.json). Nesta vers√£o do Babel (6) nenhum plugin √© instalado por padr√£o, por isso precisamos instalar ele √† parte, voc√™ pode encontrar a lista completa de plugins  [aqui](http://babeljs.io/docs/plugins/).

    ---
    # Babel
    ## Configurando

    ### Script

    Para configurarmos via script, abra o seu arquivo  [package.json](https://docs.npmjs.com/files/package.json), crie a sess√£o  [scripts](https://docs.npmjs.com/misc/scripts)  e nela vamos adicionar o c√≥digo que ir√° transformar seu c√≥digo ES2015 para ES5:

    ```json
    "build-browserify": "browserify ./src/meuarquivo.js -t \[ babelify --presets \[ es2015 \] \] -o ./dist/meunovoarquivo.js"
    ```

    ---
    # Babel
    ## Configurando

    Explicando um pouco mais sobre o c√≥digo acima:

    ./src/meuarquivo.js ‚Äì Este √© o local do seu arquivo JS escrito nos padr√µes ES2015.

    -t \[ babelify ‚Äìpresets \[ es2015 \] \] ‚Äì A option -t se refere √† transform, que utiliza de m√≥dulos de transforma√ß√£o terceiros, neste caso o  [Babelify](https://github.com/babel/babelify). Passamos o m√≥dulo que iremos utilizar e passamos uma option para o m√≥dulo (‚Äìpresets), nesta option listamos os  [plugins](http://babeljs.io/docs/plugins/)  que iremos utilizar do Babel, que ser√° o es2015.

    -o ./dist/meunovoarquivo.js ‚Äì A option -o se refere √† output, aqui passamos o destino do nosso arquivo, que ser√° gerado ap√≥s a transforma√ß√£o.
    
    ---
    # Babel

    ### Grunt

    Podemos utilizar tamb√©m o  [Grunt](http://gruntjs.com/), um Task Runner de Javascript, para realizarmos a transforma√ß√£o do arquivo. Para isso √© necess√°rio instalarmos mais um m√≥dulo npm, o  [grunt-browserify](https://www.npmjs.com/package/grunt-browserify)  (contando que voc√™ j√° tenha instalado em seu projeto os m√≥dulos  [grunt](https://www.npmjs.com/package/grunt)  e  [grunt-cli](https://www.npmjs.com/package/grunt-cli)).

    Novamente na raiz do seu projeto via terminal, digite o comando abaixo:

    ```sh
    npm install --save-dev grunt-browserify
    ```

    ---
    # Babel

    Ap√≥s a instala√ß√£o, v√° em seu arquivo  [Gruntfile.js](http://gruntjs.com/sample-gruntfile) e adicione no config:

    ```json
    browserify: {
        dist: {
            options: {
                "transform": \[ \["babelify", { "presets": \["es2015"\] }\] \]
            },
            files: {
                './dist/meunovoarquivo.js': \['./src/meuarquivo.js'\]
            }
        }
    }
    ```

    Depois, carregue o m√≥dulo e registre uma task:

    grunt.loadNpmTasks('grunt-browserify');
    grunt.registerTask('default', \['browserify'\]);
   
    ---
    #Refer√™ncias

    - https://developer.mozilla.org/pt-BR/docs/Learn/JavaScript/First_steps/O_que_e_JavaScript
    - https://classroom.udacity.com/courses/ud245
    - https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js
    - https://medium.freecodecamp.org/es5-to-esnext-heres-every-feature-added-to-javascript-since-2015-d0c255e13c6e
    
  </textarea>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/remark/0.14.0/remark.min.js"></script>
  <script>
    var slideshow = remark.create();
  </script>
</body>
</html>
